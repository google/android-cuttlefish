cc_test(
    name = "cvd_test",
    srcs = [
        "//cuttlefish/host/commands/cvd/unittests/parser:configs_inheritance_test.cc",
        "//cuttlefish/host/commands/cvd/unittests/parser:flags_parser_test.cc",
        "//cuttlefish/host/commands/cvd/unittests/parser/instance:boot_configs_test.cc",
        "//cuttlefish/host/commands/cvd/unittests/parser/instance:disk_configs_test.cc",
        "//cuttlefish/host/commands/cvd/unittests/parser/instance:graphics_configs_test.cc",
        "//cuttlefish/host/commands/cvd/unittests/parser/instance:vm_configs_test.cc",
        "//cuttlefish/host/commands/cvd/unittests/parser:metrics_configs_test.cc",
        "//cuttlefish/host/commands/cvd/unittests/parser:test_common.cc",
        "//cuttlefish/host/commands/cvd/unittests/parser:test_common.h",
        "//cuttlefish/host/commands/cvd/unittests/selector:group_record_test.cpp",
        "//cuttlefish/host/commands/cvd/unittests/selector:host_tool_target_test.cpp",
        "//cuttlefish/host/commands/cvd/unittests/selector:instance_database_helper.cpp",
        "//cuttlefish/host/commands/cvd/unittests/selector:instance_database_helper.h",
        "//cuttlefish/host/commands/cvd/unittests/selector:instance_database_test.cpp",
        "//cuttlefish/host/commands/cvd/unittests/selector:instance_record_test.cpp",
        "//cuttlefish/host/commands/cvd/unittests/selector:parser_ids_helper.cpp",
        "//cuttlefish/host/commands/cvd/unittests/selector:parser_ids_helper.h",
        "//cuttlefish/host/commands/cvd/unittests/selector:parser_ids_test.cpp",
        "//cuttlefish/host/commands/cvd/unittests/selector:parser_names_helper.cpp",
        "//cuttlefish/host/commands/cvd/unittests/selector:parser_names_helper.h",
        "//cuttlefish/host/commands/cvd/unittests/selector:parser_names_test.cpp",
        "//cuttlefish/host/commands/cvd/unittests/server:frontline_parser_test.cpp",
        "//cuttlefish/host/commands/cvd/unittests/server:utils.h",
    ],
    copts = [
        "-Wno-ctad-maybe-unsupported",
        "-std=c++17",
        "-Icuttlefish",
    ],
    deps = [
        "//cuttlefish/common/libs/fs",
        "//cuttlefish/common/libs/utils",
        "//cuttlefish/common/libs/utils:result",
        "//cuttlefish/common/libs/utils:result_matchers",
        "//cuttlefish/host/commands/cvd/cli/parser/instance:launch_cvd_cc_proto",
        "//cuttlefish/host/commands/cvd/instances:cvd_persistent_data",
        "//cuttlefish/host/commands/cvd:libcvd",
        "//cuttlefish/host/libs/config",
        "//libbase",
        "@fmt",
        "@googletest//:gtest",
        "@googletest//:gtest_main",
        "@jsoncpp",
        "@protobuf",
        "@protobuf//:differencer",
    ],
)
