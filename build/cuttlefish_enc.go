// Code generated by go run gob_gen.go; DO NOT EDIT.

package cuttlefish

import (
	"android/soong/android"
	"bytes"
	"fmt"
	"github.com/google/blueprint/gobtools"
	"github.com/google/blueprint/proptools"
	"reflect"
)

// begin of cvd-host-package.go
func init() {
	CvdHostPackageMetadataInfoGobRegId = gobtools.RegisterType(func() gobtools.CustomDec { return new(CvdHostPackageMetadataInfo) })
}

func (r CvdHostPackageMetadataInfo) Encode(ctx gobtools.EncContext, buf *bytes.Buffer) error {
	var err error

	if err = gobtools.EncodeInterface(ctx, buf, r.TarballMetadata); err != nil {
		return err
	}

	if err = gobtools.EncodeInterface(ctx, buf, r.StampMetadata); err != nil {
		return err
	}
	return err
}

func (r CvdHostPackageMetadataInfo) CustomHash(hasher *proptools.Hasher) error {
	hasher.WriteString(":cuttlefish.CvdHostPackageMetadataInfo")
	hasher.WriteInt(2)
	hasher.WriteString(":cuttlefish.android.Path")
	val1 := r.TarballMetadata == nil
	if val1 {
		hasher.WriteByte(0)
	} else {
		if v := reflect.ValueOf(r.TarballMetadata); v.Kind() == reflect.Ptr {
			if v.IsNil() {
				panic(fmt.Errorf("nil pointer is not supported in interface"))
			} else {
				val2 := r.TarballMetadata == nil
				if val2 {
					hasher.WriteByte(0)
				} else {
					val3 := func(hasher *proptools.Hasher) error {
						return r.TarballMetadata.(proptools.CustomHash).CustomHash(hasher)
					}
					if err := proptools.HashReference(hasher, uintptr(v.Pointer()), val3); err != nil {
						return err
					}
				}
			}
		} else {
			r.TarballMetadata.(proptools.CustomHash).CustomHash(hasher)
		}
	}
	hasher.WriteString(":cuttlefish.android.Path")
	val4 := r.StampMetadata == nil
	if val4 {
		hasher.WriteByte(0)
	} else {
		if v := reflect.ValueOf(r.StampMetadata); v.Kind() == reflect.Ptr {
			if v.IsNil() {
				panic(fmt.Errorf("nil pointer is not supported in interface"))
			} else {
				val5 := r.StampMetadata == nil
				if val5 {
					hasher.WriteByte(0)
				} else {
					val6 := func(hasher *proptools.Hasher) error { return r.StampMetadata.(proptools.CustomHash).CustomHash(hasher) }
					if err := proptools.HashReference(hasher, uintptr(v.Pointer()), val6); err != nil {
						return err
					}
				}
			}
		} else {
			r.StampMetadata.(proptools.CustomHash).CustomHash(hasher)
		}
	}
	return nil
}

func (r *CvdHostPackageMetadataInfo) Decode(ctx gobtools.EncContext, buf *bytes.Reader) error {
	var err error

	if val2, err := gobtools.DecodeInterface(ctx, buf); err != nil {
		return err
	} else if val2 == nil {
		r.TarballMetadata = nil
	} else {
		r.TarballMetadata = val2.(android.Path)
	}

	if val4, err := gobtools.DecodeInterface(ctx, buf); err != nil {
		return err
	} else if val4 == nil {
		r.StampMetadata = nil
	} else {
		r.StampMetadata = val4.(android.Path)
	}

	return err
}

var CvdHostPackageMetadataInfoGobRegId int16

func (r CvdHostPackageMetadataInfo) GetTypeId() int16 {
	return CvdHostPackageMetadataInfoGobRegId
}

// end of cvd-host-package.go
